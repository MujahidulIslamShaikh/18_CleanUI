@page "/createproduct"

@using CleanUI.Models
@using CleanUI.Services

@inject ProductService ProductService
@inject NavigationManager Navigation




<h3>Create Product</h3>

<div class="container">

    <div class="row mt-5">
        <div class="col-8 ">
            <EditForm Model="@product" class="flex flex-column gap-3" OnValidSubmit="HandleSubmit">
                <label>Product Name</label>
                <InputText @bind-Value="product.Name" class="form-control" />
                <br />
                <label>Description</label>
                <InputText @bind-Value="product.Desc" class="form-control" />
                <br />
                <label>Rate</label>
                <InputNumber @bind-Value="product.Rate" class="form-control" />
                <br />
                <div class="d-flex gap-3">
                    <button type="submit" class="btn btn-primary mt-2  ">Update</button>
                    <a href="/fetchproducts" class="mt-3">
                        Back To All Data
                    </a>
                </div>
            </EditForm>


        </div>
    </div>
</div>


@code {

    Product product = new();

    private async Task HandleSubmit()
    {
        await ProductService.CreateProduct(product);
        Navigation.NavigateTo("/fetchproducts");
    }

}
